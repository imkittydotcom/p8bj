pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- 2d vectors
function vec(_x,_y)
 if not _x then _x = 0 end
 if not _y then _y = _x end
 return setmetatable({x=_x,y=_y},vecproto)
end

function vecargs(a,b)
 if(type(a)=="number") return vec(a),b
 if(type(b)=="number") return a,vec(b)
 return a,b
end

vecproto={
 __index={x=0,y=0},
 __unm = function(tble)
  return vec(-tble.x,-tble.y)
 end,
 __add = function(a,b)
  a,b=vecargs(a,b)
  return vec(a.x+b.x,a.y+b.y)
 end,
 __mul = function(a,b)
  a,b=vecargs(a,b)
  return vec(a.x*b.x,a.y*b.y)
 end,
 __div = function(a,b)
  a,b=vecargs(a,b)
  return vec(a.x/b.x,a.y/b.y)
 end,
 __sub = function(a,b)
  a,b=vecargs(a,b)
  return vec(a.x-b.x,a.y-b.y)
 end,
 __pow = function(a,b)
  a,b=vecargs(a,b)
  return vec(a.x^b.x,a.y^b.y)
 end,
}

function zero(_v)
 return _v.x==0 and _v.y==0
end

dot = function(a,b)
  return a.x*b.x+a.y*b.y
end

function vlen(_v)
 return sqrt(_v.x*_v.x+_v.y*_v.y)
end

function norm(_v)
 if (zero(_v)) return vec()
 local len=vlen(_v)
 return vec(_v.x/len,_v.y/len)
end

function vspr(_n,_pos,_w,_h)
 spr(_n,_pos.x,_pos.y,_w,_h)
end
-->8
-- game state

-- player's hand
held_cards=5

-- constants
card_size=vec(25,35)
card_half=card_size/2
card_offset=vec(3,2)
held_card_offset=card_size.x-5
-->8
-- game loop
function _init()
end

function _update()
end

function _draw()
 cls(0)
 draw_player_hand()
end
-->8
-- cards
function draw_player_hand()
 for i=0,held_cards-1 do
  draw_card(vec(10+i*held_card_offset,
            128-10-card_size.y))
 end
end

function draw_card(_pos,_outline)
 vspr(0,_pos-card_offset,
      4,5)
end
__gfx__
0000000000000000000000000000000000300000880880000ccc000000a000007700000077700000000000000000000000000000000000000000000000000000
0000999999999999999999999990000003330000888880000ccc00000aaa00000700000000700000000000000000000000000000000000000000000000000000
000977777777777777777777777900000333000088888000ccccc000aaaaa0000700000077700000000000000000000000000000000000000000000000000000
009777777777777777777777777790003333300008880000ccccc000aaaaa0000700000070000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000003000000080000000c000000aaa00007770000077700000000000000000000000000000000000000000000000000000
0097777777777777777777777777900003330000000000000ccc000000a000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000777000007070000077700000777000007770000077700000000000000000000000000000000000000000000000000000
00977777777777777777777777779000007000007070000070000000700000000070000070700000000000000000000000000000000000000000000000000000
00977777777777777777777777779000077000007770000077700000777000000070000077700000000000000000000000000000000000000000000000000000
00977777777777777777777777779000007000000070000000700000707000000070000070700000000000000000000000000000000000000000000000000000
00977777777777777777777777779000777000000070000077700000777000000070000077700000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000777000007700777077700000777000007770000070700000000000000000000000000000000000000000000000000000
00977777777777777777777777779000707000000700707070700000070000007070000070700000000000000000000000000000000000000000000000000000
00977777777777777777777777779000777000000700707077700000070000007070000077000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000007000000700707070700000070000007700000070700000000000000000000000000000000000000000000000000000
00977777777777777777777777779000007000007770777070700000770000000770000070700000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00977777777777777777777777779000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00097777777777777777777777790000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00009999999999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
